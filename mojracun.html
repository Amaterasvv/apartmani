<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Moj račun | Adria Apartmani</title>
  <meta name="description" content="Pregled i upravljanje vašim računom, rezervacijama i postavkama.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body class="bg-light">

<!-- NAV (identičan ostalim stranicama) -->
<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">Adria Apartmani</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="apartmani.html">Apartmani</a></li>
        <li class="nav-item"><a class="nav-link" href="o-nama.html">O nama</a></li>
        <li class="nav-item"><a class="nav-link" href="kontakt.html">Kontakt</a></li>

        <!-- slot koji puni script.js (jedna ikona + "Prijava" ili avatar ako je user logiran) -->
        <li class="nav-item ms-lg-2 js-auth-slot"></li>

        <li class="nav-item ms-lg-2">
          <a class="btn btn-dark position-relative" href="checkout.html">
            Rezervacije
            <span id="cart-badge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Header / Korisnik -->
  <header class="bg-white border-bottom">
    <div class="container py-4">
      <div class="d-flex flex-column flex-md-row align-items-md-center gap-3">
        <div class="kb-avatar bg-primary text-white">
          <i class="bi bi-person"></i>
        </div>
        <div class="flex-grow-1">
          <h1 class="h3 mb-1">Moj račun</h1>
          <p class="text-secondary mb-0" id="userSubtitle">Prijavljeni korisnik</p>
        </div>
        <div>
          <a class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalProfil">
            <i class="bi bi-pencil-square me-1"></i> Uredi profil
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- Glavni sadržaj -->
  <main class="container my-4">
    <div class="row g-4">
      <!-- Lijeva kolona: brzi info -->
      <div class="col-lg-4">
        <div class="card kb-card shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-3">Osobni podaci</h5>
            <div class="d-grid gap-2 small">
              <div><span class="text-secondary">Ime i prezime:</span><br><strong id="userName">Gost</strong></div>
              <div><span class="text-secondary">Email:</span><br><strong id="userEmail">gost@example.com</strong></div>
              <div><span class="text-secondary">Telefonski broj:</span><br><strong id="userPhone">—</strong></div>
            </div>
            <hr>
            <div class="d-flex gap-2">
              <button class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modalProfil">Uredi</button>
              <button class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#modalLozinka">Promijeni lozinku</button>
            </div>
          </div>
        </div>

        <div class="card kb-card shadow-sm mt-3">
          <div class="card-body">
            <h6 class="card-title mb-3">Brzi linkovi</h6>
            <div class="list-group list-group-flush">
              <a href="#rezTab" class="list-group-item list-group-item-action" data-bs-toggle="pill">
                <i class="bi bi-calendar2-check me-2"></i> Moje rezervacije
              </a>
              <a href="#favTab" class="list-group-item list-group-item-action" data-bs-toggle="pill">
                <i class="bi bi-heart me-2"></i> Favoriti
              </a>
              <a href="#racTab" class="list-group-item list-group-item-action" data-bs-toggle="pill">
                <i class="bi bi-receipt me-2"></i> Računi
              </a>
              <a href="#setTab" class="list-group-item list-group-item-action" data-bs-toggle="pill">
                <i class="bi bi-gear me-2"></i> Postavke
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Desna kolona: tabovi -->
      <div class="col-lg-8">
        <ul class="nav nav-pills kb-pills mb-3" id="accTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="rezTabBtn" data-bs-toggle="pill" data-bs-target="#rezTab" type="button" role="tab">
              Rezervacije
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="favTabBtn" data-bs-toggle="pill" data-bs-target="#favTab" type="button" role="tab">
              Favoriti
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="racTabBtn" data-bs-toggle="pill" data-bs-target="#racTab" type="button" role="tab">
              Računi
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="setTabBtn" data-bs-toggle="pill" data-bs-target="#setTab" type="button" role="tab">
              Postavke
            </button>
          </li>
        </ul>

        <div class="tab-content">
          <!-- Rezervacije -->
          <div class="tab-pane fade show active" id="rezTab" role="tabpanel">
            <div id="rezList" class="vstack gap-3">
              <!-- Primjer stavke -->
              <div class="card shadow-sm">
                <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-start gap-3">
                  <div>
                    <div class="fw-semibold">Apartman Uvala Borik — Zadar</div>
                    <div class="text-secondary small">12.07.2025. – 19.07.2025. • 4 gosta • 2 kreveta</div>
                  </div>
                  <div class="d-flex align-items-center gap-2">
                    <span class="badge bg-success">Potvrđeno</span>
                    <a href="blagajna.html" class="btn btn-sm btn-outline-primary">Detalji</a>
                    <button class="btn btn-sm btn-outline-secondary">Račun (PDF)</button>
                  </div>
                </div>
              </div>

              <div class="card shadow-sm">
                <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-start gap-3">
                  <div>
                    <div class="fw-semibold">Studio Dioklecijan — Split</div>
                    <div class="text-secondary small">05.05.2025. – 08.05.2025. • 2 gosta • 1 krevet</div>
                  </div>
                  <div class="d-flex align-items-center gap-2">
                    <span class="badge bg-secondary">Završeno</span>
                    <a href="#" class="btn btn-sm btn-outline-primary disabled">Detalji</a>
                    <button class="btn btn-sm btn-outline-secondary">Račun (PDF)</button>
                  </div>
                </div>
              </div>

              <!-- Empty state primjer (sakrije se kad ima rezervacija) -->
              <div id="rezEmpty" class="kb-empty d-none">
                <i class="bi bi-calendar-x"></i>
                <h6>Nema aktivnih rezervacija</h6>
                <p class="text-secondary mb-3">Kreni s pretragom i pronađi savršen smještaj uz more.</p>
                <a class="btn btn-primary" href="ponuda.html">Pregledaj ponudu</a>
              </div>
            </div>
          </div>

          <!-- Favoriti -->
          <div class="tab-pane fade" id="favTab" role="tabpanel">
            <div id="favGrid" class="row g-3">
              <!-- Kartice favorita (primjeri) -->
              <div class="col-md-6">
                <div class="card shadow-sm h-100">
                  <img src="slike/slika1.jpg" class="card-img-top" alt="Apartman uz more">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                      <h6 class="mb-0">Villa Lungomare</h6>
                      <button class="btn btn-sm btn-outline-danger"><i class="bi bi-heart-fill"></i></button>
                    </div>
                    <div class="text-secondary small mt-1">Rovinj • od 150 € / noć</div>
                  </div>
                </div>
              </div>
              <!-- Empty state -->
              <div id="favEmpty" class="kb-empty d-none">
                <i class="bi bi-heart"></i>
                <h6>Još nema favorita</h6>
                <p class="text-secondary mb-3">Spremi apartmane koji ti se sviđaju za kasnije.</p>
                <a class="btn btn-outline-primary" href="ponuda.html">Dodaj u favorite</a>
              </div>
            </div>
          </div>

          <!-- Računi -->
          <div class="tab-pane fade" id="racTab" role="tabpanel">
            <div class="table-responsive">
              <table class="table align-middle">
                <thead>
                  <tr>
                    <th>Broj računa</th>
                    <th>Objekt</th>
                    <th>Datum</th>
                    <th>Iznos</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="racTbody">
                  <tr>
                    <td>AD-2025-0719-001</td>
                    <td>Uvala Borik, Zadar</td>
                    <td>19.07.2025.</td>
                    <td>1.120,00 €</td>
                    <td><button class="btn btn-sm btn-outline-secondary">Preuzmi PDF</button></td>
                  </tr>
                  <tr>
                    <td>AD-2025-0508-014</td>
                    <td>Studio Dioklecijan, Split</td>
                    <td>08.05.2025.</td>
                    <td>360,00 €</td>
                    <td><button class="btn btn-sm btn-outline-secondary">Preuzmi PDF</button></td>
                  </tr>
                </tbody>
              </table>
              <!-- Empty state -->
              <div id="racEmpty" class="kb-empty d-none">
                <i class="bi bi-receipt"></i>
                <h6>Nema računa</h6>
                <p class="text-secondary mb-0">Računi će se pojaviti nakon potvrđenih rezervacija.</p>
              </div>
            </div>
          </div>

          <!-- Postavke -->
          <div class="tab-pane fade" id="setTab" role="tabpanel">
            <form class="vstack gap-3">
              <div>
                <label class="form-label">Jezik sučelja</label>
                <select class="form-select">
                  <option>Hrvatski</option>
                  <option>English</option>
                  <option>Deutsch</option>
                </select>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="notifEmail" checked>
                <label class="form-check-label" for="notifEmail">
                  Želim primati potvrde i obavijesti emailom
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="notifPromo">
                <label class="form-check-label" for="notifPromo">
                  Povremeno pošalji posebne ponude
                </label>
              </div>
              <div>
                <button type="button" class="btn btn-primary">Spremi postavke</button>
              </div>
            </form>
          </div>
        </div>
      </div> <!-- /col-lg-8 -->
    </div>
  </main>


<footer class="footer mt-5">
  <div class="container py-5">
    <div class="row g-4">
      <!-- Brand + opis -->
      <div class="col-md-5">
        <a class="footer-brand d-inline-flex align-items-center text-decoration-none mb-2" href="index.html">
          <i class="bi bi-house-door-fill me-2"></i>
          <span class="fw-bold">Adria Apartmani</span>
        </a>
        <p class="text-white-50 mb-2 small">
          Smještaj uz more — Zadar • Split • Dubrovnik • Rovinj • Pula • Šibenik • Hvar
        </p>
        <div class="d-flex gap-2 footer-social">
          <a class="btn btn-outline-light btn-sm" href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
          <a class="btn btn-outline-light btn-sm" href="#" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
          <a class="btn btn-outline-light btn-sm" href="mailto:info@example.com" aria-label="Email"><i class="bi bi-envelope"></i></a>
        </div>
      </div>

      <!-- Navigacija -->
      <div class="col-6 col-md-3">
        <h6 class="text-uppercase small text-white-50">Navigacija</h6>
        <ul class="list-unstyled">
          <li><a class="footer-link" href="apartmani.html">Apartmani</a></li>
          <li><a class="footer-link" href="o-nama.html">O nama</a></li>
          <li><a class="footer-link" href="kontakt.html">Kontakt</a></li>
        </ul>
      </div>

      <!-- Pravno + lokacija -->
      <div class="col-6 col-md-4">
        <h6 class="text-uppercase small text-white-50">Pravno</h6>
        <ul class="list-unstyled">
          <li><a class="footer-link" href="uvjeti.html">Uvjeti korištenja</a></li>
          <li><a class="footer-link" href="politika-privatnosti.html">Privatnost</a></li>
        </ul>
        <div class="small text-white-50 mt-2">
          <i class="bi bi-geo-alt"></i> Hrvatska obala
        </div>
      </div>
    </div>

    <hr class="border-secondary-subtle my-4">

    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center small text-white-50">
      <div>© <span id="year"></span> Adria Apartmani</div>
      <div>
        Izrada:
        <a class="footer-link fw-semibold" href="kodeblack.hr" target="_blank" rel="noopener">
          Kode Black
        </a>
        <i class="bi bi-box-arrow-up-right"></i>
      </div>
    </div>
  </div>
</footer>

  <!-- Modal: Uredi profil -->
  <div class="modal fade" id="modalProfil" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <form class="modal-content" id="formProfil">
        <div class="modal-header">
          <h5 class="modal-title">Uredi profil</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body vstack gap-3">
          <div>
            <label class="form-label">Ime i prezime</label>
            <input type="text" class="form-control" id="inpName">
          </div>
          <div>
            <label class="form-label">Email</label>
            <input type="email" class="form-control" id="inpEmail">
          </div>
          <div>
            <label class="form-label">Telefon (opcionalno)</label>
            <input type="text" class="form-control" id="inpPhone">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Odustani</button>
          <button class="btn btn-primary" type="submit">Spremi</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: Promijeni lozinku (fejk) -->
  <div class="modal fade" id="modalLozinka" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <form class="modal-content" id="formLozinka">
        <div class="modal-header">
          <h5 class="modal-title">Promijeni lozinku</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body vstack gap-3">
          <div>
            <label class="form-label">Stara lozinka</label>
            <input type="password" class="form-control" required>
          </div>
          <div>
            <label class="form-label">Nova lozinka</label>
            <input type="password" class="form-control" required>
          </div>
          <div>
            <label class="form-label">Ponovi novu lozinku</label>
            <input type="password" class="form-control" required>
          </div>
          <div class="form-text">Demo: ništa se stvarno ne mijenja, ali validira formu.</div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Odustani</button>
          <button class="btn btn-primary" type="submit">Spremi</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // ——— FEJK PODACI/LOGIN ———
    // Očekujemo da "login" negdje sprema: localStorage.setItem('adriaUser', JSON.stringify({name, email, phone}))
    const user = JSON.parse(localStorage.getItem('adriaUser') || '{"name":"Ivan Horvat","email":"ivan@example.com","phone":""}');

    // Fill user card
    const userNameEl  = document.getElementById('userName');
    const userEmailEl = document.getElementById('userEmail');
    const userPhoneEl = document.getElementById('userPhone');
    const userSubEl   = document.getElementById('userSubtitle');

    function refreshUserUI() {
      userNameEl.textContent  = user.name || 'Gost';
      userEmailEl.textContent = user.email || 'gost@example.com';
      userPhoneEl.textContent = user.phone || '—';
      userSubEl.textContent   = user.email ? ('Prijavljen kao ' + user.email) : 'Prijavljeni korisnik';
      // Ako želiš zaštititi, redirectaj kad nema usera:
      // if (!localStorage.getItem('adriaUser')) location.href = 'login.html';
    }
    refreshUserUI();

    // Uredi profil (form)
    const formProfil = document.getElementById('formProfil');
    const inpName    = document.getElementById('inpName');
    const inpEmail   = document.getElementById('inpEmail');
    const inpPhone   = document.getElementById('inpPhone');

    // Pretpuni forme
    const modalProfil = document.getElementById('modalProfil');
    modalProfil.addEventListener('show.bs.modal', () => {
      inpName.value  = user.name || '';
      inpEmail.value = user.email || '';
      inpPhone.value = user.phone || '';
    });

    formProfil.addEventListener('submit', (e) => {
      e.preventDefault();
      user.name  = inpName.value.trim();
      user.email = inpEmail.value.trim();
      user.phone = inpPhone.value.trim();
      localStorage.setItem('adriaUser', JSON.stringify(user));
      refreshUserUI();
      bootstrap.Modal.getInstance(modalProfil).hide();
    });

    // Promjena lozinke — demo validacija
    document.getElementById('formLozinka').addEventListener('submit', (e) => {
      e.preventDefault();
      // Ovdje možeš provjeru iste lozinke itd.
      alert('Lozinka ažurirana (demo).');
      bootstrap.Modal.getInstance(document.getElementById('modalLozinka')).hide();
    });

    // Odjava (fejk): briše adriaUser i vraća na početnu
    document.getElementById('btnLogout').addEventListener('click', (e) => {
      e.preventDefault();
      localStorage.removeItem('adriaUser');
      location.href = 'index.html';
    });

    // Empty state demonstracija:
    // Ako želiš prikazati "nema rezervacija/favorita/računa", samo dodaj/ukloni .d-none
    // document.getElementById('rezEmpty').classList.remove('d-none');
    // document.getElementById('favEmpty').classList.remove('d-none');
    // document.getElementById('racEmpty').classList.remove('d-none');
  </script>
</body>
</html>
